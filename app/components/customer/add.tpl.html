<style media="screen">
    .md-virtual-repeat-container.md-autocomplete-suggestions-container {
        z-index: 2000;
    }
</style>
<div class="section-header">
    <div class="title">
        <i class="fas fa-user-plus"></i>
        Tạo mới khách hàng
    </div>
</div>


<div class="row">
    <!-- Column -->
    <div class="col-lg-12 col-xlg-12 col-sm-12">
        <div class="card-body">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item" ui-sref="home.customer.edit({id:$ctrl.id,tab: 1})">
                    <a id="tab1" class="nav-link {{$ctrl.activeTab==1?'active':''}}" data-toggle="tab" href="#A1" target="_self" ng-click="$ctrl.clickTab_1()">Thông tin</a>
                </li>
                <li class="nav-item" ng-hide="$ctrl.id == undefined">
                    <a id="tab2" data-toggle="tab" class="nav-link {{$ctrl.activeTab==2?'active':''}}" href="#A2" target="_self" ng-click="$ctrl.clickTab_2()">Nhu cầu giá</a>
                </li>
                <li class="nav-item" ng-hide="$ctrl.id == undefined">
                    <a ng-click="$ctrl.clickTab_3()" class="nav-link {{$ctrl.activeTab==3?'active':''}}" id="tab3" data-toggle="tab" href="#A3"
                        target="_self">Sản phẩm quan tâm</a>
                </li>
                <li class="nav-item" ng-hide="!$ctrl.id">
                    <a ng-click="$ctrl.clickTab_4()" class="nav-link {{$ctrl.activeTab==4?'active':''}}" id="tab4" data-toggle="tab" href="#A4"
                        target="_self">Tư vấn</a>
                </li>
                <li class="nav-item" ng-hide="!$ctrl.id">
                    <a ng-click="$ctrl.clickTab_5()" class="nav-link {{$ctrl.activeTab==5?'active':''}}" id="tab5" data-toggle="tab" href="#A5"
                        target="_self">Báo giá</a>
                </li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content tabcontent-border">
                <div class="tab-pane" id="A1">
                    <div class="card-body">
                        <div class="form-group row">
                            <div class="col-sm-6">
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Phân loại khách</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-check">
                                            <label class="custom-control custom-radio">
                                                <input id="radioCanhan" name="radio" type="radio" class="custom-control-input" ng-model="$ctrl.modelCustomer.LoaiKhachhang" ng-value="$ctrl.Person">
                                                <span class="custom-control-indicator"></span>
                                                <span class="custom-control-description">Cá nhân</span>
                                            </label>
                                            <label class="custom-control custom-radio">
                                                <input id="radioCongty" name="radio" type="radio" class="custom-control-input" ng-model="$ctrl.modelCustomer.LoaiKhachhang" ng-value="$ctrl.Company">
                                                <span class="custom-control-indicator"></span>
                                                <span class="custom-control-description">Công ty</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row" ng-show="$ctrl.modelCustomer.LoaiKhachhang==$ctrl.Company">
                                        <div class="col-sm-4">
                                            <label>Tên CT</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input id="" name="" type="text" class="custom-control"  placeholder="Tên công ty..." id="example-text-input" ng-model="$ctrl.modelCustomer.TenCongty">
                                        </div>                
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Loại khách</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <select name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm" ng-model="$ctrl.modelCustomer.LoaiKHId"
                                            ng-options="s.LoaiKhachhangId as s.TenLoai for s in $ctrl.listLoaiKH">
                                            <option value="">---Chọn loại khách---</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Nguồn khách</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <select name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm" ng-model="$ctrl.modelCustomer.NguonkhachId"
                                            ng-options="s.NguonKhachId as s.TenNguon for s in $ctrl.listNguonkhach">
                                            <option value="">---Chọn nguồn khách---</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Xưng hô</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <select class="custom-select col-14" id="inlineFormCustomSelect" ng-model="$ctrl.modelCustomer.Xungho">
                                            <option value="">-- Xưng hô --</option>
                                            <option value="1">Ông</option>
                                            <option value="4">Bà</option>
                                            <option value="3">Anh</option>
                                            <option value="8">Chị</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Tên khách*</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input class="form-control" type="text" placeholder="Họ tên khách..." id="example-text-input" ng-model="$ctrl.modelCustomer.Hoten">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Ngày sinh</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input class="form-control" date-picker lang="vi" placeholder="Ngày sinh..." id="example-text-input" ng-model="$ctrl.modelCustomer.Ngaysinh">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Giới tính</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-check">
                                            <label class="custom-control custom-radio">
                                                <input id="radioGioitinh1" name="radio" type="radio" class="custom-control-input" ng-model="$ctrl.modelCustomer.Gioitinh"
                                                    ng-value=true checked>
                                                <span class="custom-control-indicator"></span>
                                                <span class="custom-control-description">Nam</span>
                                            </label>
                                            <label class="custom-control custom-radio">
                                                <input id="radioGioitinh4" name="radio" type="radio" class="custom-control-input" ng-model="$ctrl.modelCustomer.Gioitinh"
                                                    ng-value=false>
                                                <span class="custom-control-indicator"></span>
                                                <span class="custom-control-description">Nữ</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Số điện thoại**</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input class="form-control" placeholder="Điện thoại..." id="example-text-input" ng-model="$ctrl.modelCustomer.Mobile">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Email</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input class="form-control" type="email" placeholder="Email..." id="example-text-input" ng-model="$ctrl.modelCustomer.Email"
                                            title="Yêu cầu nhập đúng định dạng email.">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Facebook</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input class="form-control" type="text" placeholder="Facebook..." id="example-text-input" ng-model="$ctrl.modelCustomer.TKFacebook">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Địa chỉ</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input ng-change="$ctrl.onAddressChanged()" ng-model="$ctrl.modelCustomer.Diachi" class="form-control" type="text" placeholder="Số nhà, tên đường, địa chỉ..."
                                        />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Tỉnh/TP</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <select name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm" ng-model="$ctrl.modelCustomer.ThanhphoId"
                                            ng-options="s.Id as s.Title for s in $ctrl.listThanhpho" ng-change="$ctrl.onSelectThanhpho($ctrl.modelCustomer.ThanhphoId)">
                                            <option value="">---Chọn Tỉnh/TP---</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Quận/huyện</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <select name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm" ng-model="$ctrl.modelCustomer.QuanhuyenId"
                                            ng-options="s.Id as s.Title for s in $ctrl.listQuanHuyen">
                                            <option value="">---Chọn quận huyện---</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row" ng-show="$ctrl.IsSaler">
                                    <div class="col-sm-4">
                                        <label>Kinh doanh nhận</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <md-autocomplete required md-input-name="autocomplete" md-min-length="0" md-selected-item-change="$ctrl.onSelectNguoinhan(item)"
                                            md-selected-item="$ctrl.modelCustomer.Sale" md-search-text="$scrl.searchText" md-model="$scrl.searchText"
                                            md-items="item in $ctrl.searchNguoinhan($scrl.searchText)" md-item-text="item.Hovaten"
                                            placeholder="---Tên người nhận---">
                                            <md-item-template>
                                                <span md-highlight-text="$scrl.searchText">{{item.Hovaten}}</span>
                                            </md-item-template>
                                        </md-autocomplete>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Người liên quan</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <select ng-model="$ctrl.NhandebietIdsArray" class="select2 m-b-10 select2-multiple" style="width: 100%" multiple="multiple"
                                            data-placeholder="Chọn người liên quan" ng-options="s.TaikhoanId as s.Hovaten for s in $ctrl.listTaiKhoan"
                                            select>
                                            <option value="">---Người liên quan---</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>Ghi chú</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <textarea class="form-control" rows="3" placeholder="Nội dung..." ng-model="$ctrl.modelCustomer.Ghichu"></textarea>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-4">
                                        <label>File đính kèm</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-group">
                                            <input type="file" id="selectFile1" nv-file-select uploader="$ctrl.uploader">
                                            <label style="color:red;" ng-show="$ctrl.modelCustomer.FileDinhkem != undefined">Đã có file được thêm vào.</label>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-sm-6">
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row"></div>
                                <div class="form-group row">
                                    <div class="col-sm-12">
                                        <ng-map center="{{$ctrl.modelCustomer.MapPosition}}">
                                            <marker position="{{$ctrl.modelCustomer.MapPosition}}" centered="true" draggable="true" on-dragend="$ctrl.getCurrentLocation()"></marker>
                                        </ng-map>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="A2">
                    <div class="card-body">
                        <div class="form-group demo-checkbox" ng-repeat="item in $ctrl.listNhucaugia">
                            <input type="checkbox" id="md_checkbox_21{{$index}}" class="filled-in chk-col-red" ng-model="item.isSelected" ng-click="$ctrl.selectNhucaugia(item)"
                            />
                            <label for="md_checkbox_21{{$index}}">{{item.TenNhucau}}</label>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="A3">
                    <div class="card-body">
                        <div class="form-group row">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-9">
                                        <label>Danh sách sản phẩm quan tâm</label>
                                    </div>
                                    <div class="col-md-3">
                                        <button ng-click="$ctrl.onListSanpham()" class="btn btn-info" data-toggle="modal" data-target="#spquantam">Thêm SP quan tâm</button>
                                    </div>
                                </div>
                                <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                                    cellspacing="0" width="100%">
                                    <colgroup>
                                        <col width="50">
                                        <col width="25%" />
                                        <col width="30%" />
                                        <col width="30%" />
                                        <col width="15%" />
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th>STT</th>
                                            <th>Ảnh</th>
                                            <th>Tên sản phẩm</th>
                                            <th>Mô tả</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in $ctrl.SanphamquantamModel">
                                            <td>{{$index + 1}}</td>
                                            <td class="center">
                                                <img src="{{item.AnhSanpham}}" style="width: 80px; height: 80px;" />
                                            </td>
                                            <td class="text-center">
                                                {{item.TenSanpham}}
                                                <br> {{item.MaSanpham}}
                                            </td>
                                            <td>{{item.Mota}}</td>
                                            <td class="text-nowrap">
                                                <button ng-click="$ctrl.removeSanpham(item)" class="btn btn-warning">Bỏ</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal fade" my-modal="roleModelDialog" id="spquantam" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
                            style="display: none;" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title" id="exampleModalLabel1">
                                            <b>Thêm sản phẩm </b>
                                        </h4>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form class="ng-pristine ng-valid">
                                            <div class="form-group row">
                                                <div class="col-md-2">
                                                    <label>Tìm kiếm</label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input ng-model="$ctrl.searchText" ng-keypress="$ctrl.onSearchSanpham($event)" class="form-control" type="text" placeholder="Tên, mô tả sản phẩm..."
                                                        id="example-text-input">
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <label>Danh sách sản phẩm tìm kiếm</label>
                                                        </div>
                                                    </div>
                                                    <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                                                        cellspacing="0" width="100%">
                                                        <colgroup>
                                                            <col width="50" />
                                                            <col width="25%" />
                                                            <col width="25%" />
                                                            <col width="15%" />
                                                            <col width="20%" />
                                                            <col width="10%" />
                                                        </colgroup>
                                                        <thead>
                                                            <tr>
                                                                <th>STT</th>
                                                                <th>Ảnh</th>
                                                                <th>Tên sản phẩm</th>
                                                                <th>Mô tả</th>
                                                                <th>Giá</th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="item in $ctrl.listSanpham">
                                                                <td class="center">{{$index+1}}</td>
                                                                <td>
                                                                    <img src="{{item.AnhSanpham}}" style="width: 80px; height: 80px;" />
                                                                </td>
                                                                <td>{{item.TenSanpham}}</td>
                                                                <td>{{item.Mota}}</td>
                                                                <td>{{item.Giabans[0].Gia}} đ</td>
                                                                <td class="text-nowrap">
                                                                    <button ng-click="$ctrl.addSanpham(item)" class="btn btn-warning">Chọn</button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="A4">
                    <div class="card-body">
                        <div class="form-group row">
                            <div class="col-md-2">
                                <label>Tìm kiếm</label>
                            </div>
                            <div class="col-md-4">
                                <input ng-model="$ctrl.searchText" class="form-control" type="text" placeholder="Tên, mô tả sản phẩm..." id="example-text-input"
                                    ng-keypress="$ctrl.onSearchTuvan($event)">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8">
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <label>Danh sách tìm kiếm</label>
                                    </div>
                                </div>
                                <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                                    cellspacing="0" width="100%">
                                    <colgroup>
                                        <col width="30" />
                                        <col width="40%" />
                                        <col width="30%" />
                                        <col width="30%" />
                                        <col width="10%" />
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th>STT</th>
                                            <th>Tư vấn</th>
                                            <th>Phân công</th>
                                            <th>Tạo</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in $ctrl.listTuvan">
                                            <td class="center">{{$index + 1}}</td>
                                            <td>
                                                <b>SP tư vấn: </b> {{item.Sanpham.TenSanpham}}
                                                <br />
                                                <b>ND tư vấn: </b> {{item.NoidungTuvan}}
                                                <br />
                                                <b>Tình trạng:</b> {{item.Tinhtrang == 0? 'Chưa hoàn thành': 'Hoàn thành'}}
                                            </td>
                                            <td>
                                                <div ng-show="item.nguoixuly!=undefined">
                                                    <b>
                                                        Phân cho:
                                                    </b> {{item.nguoixuly.Hovaten}}
                                                    <br>
                                                    <b>
                                                        Nội dung:
                                                    </b> {{item.NoidungGiaoviec}}
                                                    <br>
                                                    <b>
                                                        Hạn:
                                                    </b> {{item.HanXulyFull | date:'dd/MM/yyyy h:m a'}}
                                                    <br>
                                                </div>
                                            </td>
                                            <td>
                                                Tạo bởi: {{item.NguoitaoModel.Hovaten}}
                                                <br /> Ngày tạo: {{item.Ngaytao | date: 'dd/MM/yyyy'}}
                                            </td>
                                            <td class="text-nowrap">
                                                <button class="btn waves-effect waves-light btn-xs btn-success" ng-click="$ctrl.getTuvan(item)">Sửa</button>
                                                <br />
                                                <button class="btn waves-effect waves-light btn-xs btn-warning" ng-click="$ctrl.deleteTuvan(item)">Xóa</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <select name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm" ng-model="$ctrl.tuvanModel.Tinhtrang">
                                            <option ng-value="">Tình trạng xử lý</option>
                                            <option ng-value=0>Chưa hoàn thành</option>
                                            <option ng-value=1>Hoàn thành</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <select ng-model="$ctrl.tuvanModel.SanphamTuvanId" name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm"
                                            ng-options="s.SanphamId as s.TenSanpham for s in $ctrl.SanphamquantamModel">
                                            <option value="">Sản phẩm tư vấn</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <textarea rows="3" class="form-control" placeholder="Nội dung tư vấn..." ng-model="$ctrl.tuvanModel.NoidungTuvan"></textarea>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-12">
                                        <div class="demo-checkbox">
                                            <input type="checkbox" id="tabPhanXuly" class="filled-in chk-col-red" checked ng-model="$ctrl.tuvanModel.PhanXuly" />
                                            <label for="tabPhanXuly">Phân công xử lý</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" ng-show="$ctrl.tuvanModel.PhanXuly==true">
                                    <div class="form-group row">
                                        <div class="col-md-12">
                                            <select ng-model="$ctrl.tuvanModel.NguoiXulyId" class="select2 m-b-10" style="width: 100%" data-placeholder="Chọn người xử lý"
                                                ng-options="s.TaikhoanId as s.Hovaten for s in $ctrl.listTaiKhoan" select2>
                                                <option value="">Người xử lý</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-12">
                                            <textarea rows="3" class="form-control" placeholder="Nội dung giao việc..." ng-model="$ctrl.tuvanModel.NoidungGiaoviec"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-6 form-group">
                                            <label class="control-label">Hạn xử lý: </label>
                                            <input class="form-control ng-pristine ng-valid ng-empty ng-touched" ng-model="$ctrl.tuvanModel.HanXuly" date-picker placeholder="mm/dd/yyyy"
                                                lang="vi" aria-invalid="false">
                                        </div>
                                        <div class="col-md-6 form-group">
                                            <label class="control-label">Thời gian</label>
                                            <input type="text" class="form-control ng-pristine ng-valid ng-empty ng-touched" time-picker="" lang="vi" aria-invalid="false"
                                                ng-model="$ctrl.tuvanModel.HanXulyTime" placeholder="hh: mm AM" />
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-12 text-right">
                                        <button ng-click="$ctrl.saveTuvan()" type="button" class="btn btn-info ng-binding">
                                            <i class="fa fa-save"></i> Ghi lại</button>
                                        <button ng-click="$ctrl.tuvanModel = {};" type="button" class="btn btn-warning">
                                            <i class="fa fa-ban"></i>Hủy</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="A5">
                    <div class="card-body">
                        <div class="form-group row">
                            <div class="col-md-2">
                                <label>Tìm kiếm</label>
                            </div>
                            <div class="col-md-3">
                                <input ng-model="$ctrl.tab5search" class="form-control" type="text" placeholder="Báo giá..." id="example-text-input">
                            </div>
                            <div class="col-md-1">
                                <button ng-click="$ctrl.onSearchBaogia();" type="button" class="btn btn-info">
                                    <i class="mdi mdi-file-find"></i>Tìm</button>
                            </div>
                            <div class="col-md-3 text-right">
                                <button type="button" class="btn btn-info ng-binding" data-toggle="modal" data-target="#baogiaDialog" ng-click="$ctrl.Hidden = !$ctrl.Hidden; $ctrl.addBaogia()">
                                    <i class="mdi mdi-plus"></i>Lập báo giá mới</button>
                            </div>
                            <div class="col-md-3 text-right">
                                <label>Tổng:
                                    <b class="text-danger">{{$ctrl.listBaogia | sumProfit:'Trigia'| currency: '':0 }} đ</b>
                                </label>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-md-12">
                                <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                                    cellspacing="0" width="100%">
                                    <colgroup>
                                        <col width="50" />
                                        <col width="30%" />
                                        <col width="40%" />
                                        <col width="15%" />
                                        <col width="10%" />
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th>STT</th>
                                            <th>Báo giá</th>
                                            <th>Sản phẩm báo giá</th>
                                            <th>Tạo</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody ng-repeat="item in $ctrl.listBaogia">
                                        <tr ng-mouseenter="item.showHoverButton=true" ng-mouseleave="item.showHoverButton=false">

                                            <td class="center">{{$index + 1}}</td>
                                            <td>
                                                <b>Báo giá:</b> {{item.NoidungBaogia}}
                                                <br />
                                                <b>Ghi chú:</b> {{item.PhanhoiKhachhang}}
                                            </td>
                                            <td>
                                                <b>Sản phẩm:</b>
                                                <ul>
                                                    <li ng-repeat="sp in item.Sanphams">&nbsp;{{sp.MaSanpham}} [{{sp.TenSanpham}}]: {{sp.Soluong}} x {{sp.Gia
                                                        | currency: '':0 }} = {{sp.Thanhtien | currency: '':0 }} đ
                                                        <ul ng-show="$ctrl.IsAdmin">
                                                            <li>
                                                                Tỷ lệ % chênh lệch: {{sp.GiaChenhlech }}
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                                <b>Dịch vụ:</b>
                                                <ul>
                                                    <li ng-repeat="dv in item.Dichvus">
                                                        &nbsp;[{{dv.Dichvu}}]: {{dv.Soluong}} x {{dv.Gia | currency: '':0 }} = {{dv.Thanhtien | currency: '':0 }} đ
                                                    </li>
                                                </ul>
                                                <div class="hvButtons" ng-show="item.showHoverButton" style="margin-top: -3%;">
                                                    <div class="hvButtonsContainer">
                                                        <a ng-click="$ctrl.editBaogia(item);$ctrl.Hidden = true;" href="" data-original-title="Sửa" data-toggle="modal" data-target="#baogiaDialog"
                                                            data-toggle="tooltip" data-original-title="Sửa">
                                                            <i class="fa fa-pencil m-r-10"></i> Sửa
                                                        </a>
                                                        <a ui-sref="home.customer.edit({id: item.KhachhangId, tab: 4})" ng-if="$ctrl.status=='received'" data-toggle="tooltip" data-original-title="Tư vấn">
                                                            <i class="mdi mdi mdi-help-circle m-r-10"></i> Tư vấn
                                                        </a>
                                                        <a href="" ng-click="$ctrl.exportExcel(item)" data-toggle="tooltip" data-original-title="Xuất Excel">
                                                            <i class="mdi mdi-clipboard-text m-r-10"></i> Xuất Excel </a>
                                                        <a ng-click="$ctrl.onNguoinhanMail(item)" data-toggle="modal" data-target="#sendmailFinderDialog" href="" data-toggle="tooltip"
                                                            data-original-title=" Gửi email">
                                                            <i class="mdi mdi-alert-circle m-r-10"></i> Gửi email
                                                        </a>
                                                        <a ui-sref="home.contract.add({khachhangId:$ctrl.id,baogiaId:item.BaogiaId})" data-toggle="tooltip" data-original-title="Tạo đơn hàng">
                                                            <i class="mdi mdi-close-circle m-r-10"></i> Tạo đơn hàng </a>
                                                        <a ui-sref="home.contract.add({khachhangId:$ctrl.id,baogiaId:item.BaogiaId})" data-toggle="tooltip" data-original-title="Tạo hợp đồng">
                                                            <i class="mdi mdi-arrow-right-bold-circle m-r-10"></i> Tạo hợp đồng </a>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>{{item.NguoitaoModel.Hovaten}}
                                                <br />{{item.Ngaytao | date: 'dd/MM/yyyy'}}</td>
                                            <td class="text-nowrap">
                                                <button ng-click="$ctrl.editBaogia(item);$ctrl.Hidden = true;" class="btn waves-effect waves-light btn-xs btn-success" data-original-title="Sửa"
                                                    data-toggle="modal" data-target="#baogiaDialog">Sửa</button>
                                                <br />
                                                <button ng-click="$ctrl.exportExcel(item)" class="btn waves-effect waves-light btn-xs btn-success" data-original-title="Xuất Excel">Xuất Excel</button>
                                                <br />
                                                <button class="btn waves-effect waves-light btn-xs btn-success" data-toggle="modal" ng-click="$ctrl.onNguoinhanMail(item)"
                                                    data-target="#sendmailFinderDialog">Gửi Email</button>
                                                <br />
                                                <button ui-sref="home.contract.add({khachhangId:$ctrl.id,baogiaId:item.BaogiaId})" class="btn waves-effect waves-light btn-xs btn-success"
                                                    data-original-title="Tạo đơn hàng">Tạo đơn hàng</button>
                                                <br />
                                                <button ui-sref="home.contract.add({khachhangId:$ctrl.id,baogiaId:item.BaogiaId})" class="btn waves-effect waves-light btn-xs btn-success"
                                                    data-original-title="Tạo hợp đồng">Tạo hợp đồng</button>
                                                <br />

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Column -->
</div>
<div class="form-group row" ng-show="$ctrl.showButtons">
    <div class="text-right col-sm-12">
        <button type="button" class="btn btn-info ng-binding" ng-click="$ctrl.saveKhachhang()">
            <i class="fas fa-plus"></i>&nbsp; Ghi</button>
        <button class="btn btn-success ng-binding" ng-click="$ctrl.goBack = true;$ctrl.saveKhachhang()">
            <i class="fas fa-plus"></i>&nbsp; Ghi và trở lại</button>
        <!-- <button ng-click="$ctrl.selectSalesMove()" ui-sref="home.customer.list({status: $ctrl.status})" type="button" class="btn btn-success ng-binding"><i class="mdi mdi-file-send"></i>Chuyển sale</button> -->
        <button type="button" class="btn btn-warning ng-binding" ui-sref="home.customer.list({status: $ctrl.status})">
            <i class="fas fa-long-arrow-alt-left"></i>&nbsp; Trở lại</button>
    </div>
</div>

<div class="modal fade" my-modal="baogiaModelDialog" id="baogiaDialog" tabindex="-1" role="dialog" aria-labelledby="baogiaModalLabel"
    style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Lập báo giá</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group row" ng-show="$ctrl.Hidden">
                    <div class="col-md-12">
                        <div class="panel panel-default" style="overflow-y: scroll;max-height: 500px;overflow-x: hidden;">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group row">
                                        <div class="col-md-6">
                                            <input ng-model="$ctrl.baogiaModel.Baogia.NoidungBaogia" class="form-control" placeholder="Báo giá..." />
                                        </div>

                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-6">
                                            <textarea rows="3" ng-model="$ctrl.baogiaModel.Baogia.PhanhoiKhachhang" placeholder="Ghi chú thêm..." class="form-control"></textarea>
                                        </div>
                                        <div class="col-md-2">

                                        </div>
                                        <div class="col-md-2">

                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <div class="options">
                                            <button ng-click="$ctrl.onListSanpham()" data-toggle="modal" data-target="#tab5AddSanpham" type="button" class="btn btn-info">
                                                <i class="fas fa-plus"></i>
                                                Thêm sản phẩm
                                            </button>
                                        </div>
                                    </div>

                                    <div class="form-group row" ng-show="$ctrl.baogiaModel.Sanphams.length > 0">
                                        <div class="col-md-12">
                                            <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                                                cellspacing="0" width="100%">
                                                <colgroup>
                                                    <col width="50" />
                                                    <col width="10%" />
                                                    <col width="25%" />
                                                    <col width="25%" />
                                                    <col width="15%" />
                                                    <col width="15%" />
                                                    <col width="5%" />
                                                </colgroup>
                                                <thead>
                                                    <tr>
                                                        <th>STT</th>
                                                        <th>Ảnh</th>
                                                        <th>Tên sản phẩm</th>
                                                        <th>Mô tả</th>
                                                        <th>Giá</th>
                                                        <th>Số lượng</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="item in $ctrl.baogiaModel.Sanphams" ng-init="!item.Soluong ? item.Soluong = 1 : item.Soluong = item.Soluong">
                                                        <td class="center">{{$index+1}}</td>
                                                        <td>
                                                            <img src="{{item.AnhSanpham}}" alt="anh sp" style="width: 80px; height: 80px;">
                                                        </td>
                                                        <td>
                                                            {{item.MaSanpham}}
                                                            <br> {{item.TenSanpham}}
                                                        </td>
                                                        <td>{{item.Mota}}</td>
                                                        <td>
                                                            <input class="form-control" type="number" ng-model="item.Gia" />
                                                        </td>
                                                        <td>
                                                            <input class="form-control" type="number" ng-model="item.Soluong" />
                                                        </td>
                                                        <td class="text-nowrap">
                                                            <button ng-click="$ctrl.removeSanphamFromBaogia($index);" class="btn waves-effect waves-light btn-xs btn-warning" data-original-title="Bỏ">Bỏ</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <div class="col-md-6">
                                            <button ng-click="$ctrl.addDichvu()" data-toggle="modal" data-target="#tab5AddDichvu" type="button" class="btn btn-info ng-binding">
                                                <i class="mdi mdi-plus"></i> Thêm dịch vụ</button>
                                        </div>
                                    </div>

                                    <div class="form-group row" ng-show="$ctrl.baogiaModel.Dichvus.length > 0">
                                        <div class="col-md-12">
                                            <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                                                cellspacing="0" width="100%">
                                                <colgroup>
                                                    <col width="50" />
                                                    <col width="30%" />
                                                    <col width="20%" />
                                                    <col width="15%" />
                                                    <col width="15%" />
                                                    <col width="10%" />
                                                </colgroup>
                                                <thead>
                                                    <tr>
                                                        <th>STT</th>
                                                        <th>Dịch vụ</th>
                                                        <th>Giá</th>
                                                        <th>Số lượng</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="item in $ctrl.baogiaModel.Dichvus">
                                                        <td class="center">{{$index + 1}}</td>
                                                        <td>{{item.Dichvu}}</td>
                                                        <td>
                                                            <input class="form-control" type="number" ng-model="item.Gia" />
                                                        </td>
                                                        <td>
                                                            <input class="form-control" type="number" ng-model="item.Soluong" />
                                                        </td>
                                                        <td class="text-nowrap">
                                                            <a ng-click="$ctrl.editDichvu(item)" class="btn waves-effect waves-light btn-xs btn-warning" data-original-title="Sửa" data-toggle="modal"
                                                                data-target="#tab5AddDichvu">Sửa</a>
                                                            <a ng-click="$ctrl.removeDichvuFromBaogia($index);" class="btn waves-effect waves-light btn-xs btn-warning" data-original-title="Bỏ">Bỏ</a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-click="$ctrl.saveBaogia()" class="btn btn-info ">
                    <i class="fa fa-save"></i> Ghi lại</button>
                <button type="button" ng-click="$ctrl.onCancel()" class="btn btn-warning" data-dismiss="modal">
                    <i class="fa fa-ban"></i> Hủy</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" my-modal="roleModelDialog" id="productFinderDialog" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Thêm sản phẩm</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-2">
                        <label>Tìm kiếm</label>
                    </div>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" placeholder="Tên, mô tả sản phẩm,..." />
                    </div>
                    <div class="col-sm-2">
                        <button type="button" class="btn btn-info">
                            <i class="mdi mdi-file-find"></i> Tìm</button>
                    </div>
                    <div class="col-sm-2">
                        <button type="button" class="btn btn-info">
                            <i class="fa fa-plus"></i>Thêm SP mới</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                            cellspacing="0" width="100%">
                            <colgroup>
                                <col width="50" />
                                <col width="30%" />
                                <col width="20%" />
                                <col width="15%" />
                                <col width="15%" />
                                <col width="10%" />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>Ảnh</th>
                                    <th>Tên sản phẩm</th>
                                    <th>Mô tả</th>
                                    <th>Giá</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody dir-paginate="city in $ctrl.cityModels | itemsPerPage: $ctrl.pageSize" pagination-id="dataPagination" current-page="$ctrl.currentPage"
                                total-items="$ctrl.totalRowCount">
                                <tr>
                                    <td class="center"></td>
                                    <td>
                                        <img src="" />
                                    </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td class="text-nowrap">
                                        <a class="btn" data-original-title="Chọn">Chọn</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="serviceFinderDialog" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Thêm dịch vụ</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <input type="text" class="form-control" placeholder="Tên dịch vụ" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <textarea rows="3" class="form-control" placeholder="Mô tả" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <input type="text" class="form-control" placeholder="Chi phí" />
                    </div>
                    <div class="col-sm-6">
                        <input type="number" class="form-control" placeholder="Số lượng" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info">
                    <i class="fa fa-save"></i> Ghi lại</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="sendmailFinderDialog" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Gửi email</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <md-radio-group ng-model="$ctrl.Emailvalue">
                            <md-radio-button value="Noibo" class="md-primary">Gửi nội bộ</md-radio-button>
                        </md-radio-group>
                    </div>
                    <div class="col-sm-6">
                        <md-radio-group ng-model="$ctrl.Emailvalue">
                            <md-radio-button value="Khach" class="md-primary">Gửi Khách</md-radio-button>
                        </md-radio-group>
                    </div>
                </div>
                <div class="row" ng-show="$ctrl.Emailvalue == 'Noibo'">
                    <div class="col-md-12">
                        <md-autocomplete required md-input-name="autocomplete" md-min-length="0" md-selected-item-change="$ctrl.onSelectNguoinhanMail(item)"
                            md-search-text="$scrl.searchTexts" md-model="$scrl.searchTexts" md-items="item in $ctrl.searchNguoinhanMail($scrl.searchTexts)"
                            md-item-text="item.Email" placeholder="Email người nhận...">
                            <md-item-template>
                                <span md-highlight-text="$scrl.searchTexts">{{item.Hovaten}} - {{item.Email}}</span>
                            </md-item-template>
                        </md-autocomplete>
                    </div>
                </div>
                <div class="row" ng-show="$ctrl.Emailvalue == 'Khach'">
                    <div class="col-sm-12">
                        <input type="text" class="form-control" ng-model="$ctrl.EmailKhach" placeholder="Email người nhận..." />
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <textarea rows="3" class="form-control" ng-model="$ctrl.Sendemail.Note" placeholder="Nội dung..." />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" ng-click="$ctrl.onSendemail()">
                    <i class="fa fa-save"></i> Gửi</button>
                <button type="button" class="btn btn-default" id="closeDialog" data-dismiss="modal">Hủy</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="tab5AddSanpham" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Thêm sản phẩm</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-2">
                        <label>Tìm kiếm</label>
                    </div>
                    <div class="col-md-5">
                        <input ng-model="$ctrl.searchtab.tab5Dialog1Search" class="form-control" type="text" placeholder="Tên, mô tả sản phẩm..."
                            id="example-text-input">
                    </div>
                    <div class="col-md-1">
                        <button type="button" class="btn btn-default">
                            <i class="mdi mdi-file-find"></i>Tìm</button>
                    </div>
                    <div class="col-md-4 text-right">
                        <button type="button" class="btn btn-success ng-binding">
                            <i class="mdi mdi-plus"></i>Thêm sp mới</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                            cellspacing="0" width="100%">
                            <colgroup>
                                <col width="50" />
                                <col width="30%" />
                                <col width="30%" />
                                <col width="15%" />
                                <col width="15%" />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>Ảnh</th>
                                    <th>Tên sản phẩm</th>
                                    <th>Mô tả</th>
                                    <th>Giá</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in $ctrl.listSanpham">
                                    <td class="center">{{$index+1}}</td>
                                    <td>
                                        <img src="{{item.AnhSanpham}}" alt="anh sp" style="width: 80px; height: 80px;">
                                    </td>
                                    <td>
                                        {{item.TenSanpham}}
                                        <br> {{item.MaSanpham}}
                                    </td>
                                    <td>{{item.Mota}}</td>
                                    <td>{{item.Gia = item.Giabans[0].Gia}}</td>
                                    <td class="text-nowrap">
                                        <button ng-click="$ctrl.selectSanpham(item)" ng-disabled="item.checkTab5" class="btn btn-success" data-original-title="Chọn">Chọn</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="tab5AddDichvu" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Thêm dịch vụ</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <input type="text" class="form-control" placeholder="Tên dịch vụ" ng-model="$ctrl.dichvuModel.Dichvu" />
                    </div>
                </div>
                <!-- <div class="row">
                    <div class="col-md-12">
                        <textarea class="form-control" rows="3" placeholder="Mô tả" ng-model="$ctrl.tab5Dialog2Model.description"></textarea>
                    </div>
                </div> -->
                <div class="row">
                    <div class="col-md-6">
                        <input type="number" placeholder="Chi phí" class="form-control" ng-model="$ctrl.dichvuModel.Gia" />
                    </div>
                    <div class="col-md-6">
                        <input type="number" placeholder="Số lượng" class="form-control" ng-model="$ctrl.dichvuModel.Soluong" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-click="$ctrl.saveDichvu()" data-dismiss="modal" type="button" class="btn btn-info">
                    <i class="fa fa-save"></i> Ghi lại</button>
                <button type="button" class="btn btn-default" data-dismiss="modal"> Hủy</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="tab6AddSanpham" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Thêm sản phẩm</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-2">
                        <label>Tìm kiếm</label>
                    </div>
                    <div class="col-md-5">
                        <input ng-model="$ctrl.searchtab.tab6Dialog1Search" class="form-control" type="text" placeholder="Tên, mô tả sản phẩm..."
                            id="example-text-input">
                    </div>
                    <div class="col-md-1">
                        <button type="button" class="btn btn-default">
                            <i class="mdi mdi-file-find"></i>Tìm</button>
                    </div>
                    <div class="col-md-4 text-right">
                        <button type="button" class="btn btn-success ng-binding">
                            <i class="mdi mdi-plus"></i>Thêm sp mới</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="display nowrap table table-hover table-striped table-bordered full-color-table full-info-table hover-table"
                            cellspacing="0" width="100%">
                            <colgroup>
                                <col width="50" />
                                <col width="50" />
                                <col width="30%" />
                                <col width="30%" />
                                <col width="15%" />
                                <col width="15%" />
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>Ảnh</th>
                                    <th>Tên sản phẩm</th>
                                    <th>Mô tả</th>
                                    <th>Giá</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in $ctrl.listSanphams">
                                    <td class="center">{{$index+1}}</td>
                                    <td>
                                        <img src="{{item.AnhSanpham}}" alt="anh sp" style="width: 80px; height: 80px;">
                                    </td>
                                    <td>{{item.TenSanpham}}</td>
                                    <td>{{item.Mota}}</td>
                                    <td>{{item.Gia}}</td>
                                    <td class="text-nowrap">
                                        <button ng-click="$ctrl.selectTab6Dialog1(item); item.checkTab6 = true;" ng-disabled="item.checkTab6" class="btn btn-success"
                                            data-original-title="Chọn">Chọn</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="tab6AddDichvu" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Thêm dịch vụ</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <input type="text" class="form-control" placeholder="Tên dịch vụ" ng-model="$ctrl.tab6Dialog2Model.Dichvu" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <textarea class="form-control" rows="3" placeholder="Mô tả" ng-model="$ctrl.tab6Dialog2Model.description"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <input type="number" placeholder="Chi phí" class="form-control" ng-model="$ctrl.tab6Dialog2Model.Gia" />
                    </div>
                    <div class="col-md-6">
                        <input type="number" placeholder="Số lượng" class="form-control" ng-model="$ctrl.tab6Dialog2Model.Soluong" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-click="$ctrl.selectTab6Dialog2()" type="button" class="btn btn-info">
                    <i class="fa fa-save"></i> Ghi lại</button>
                <button type="button" class="btn btn-default" data-dismiss="modal"> Hủy</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" my-modal="roleModelDialog" id="selectSale" tabindex="-1" role="dialog" aria-labelledby="changePassModalLabel"
    style="display: none;" aria-hidden="true" width="80%">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Chuyển Sales</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="ng-pristine ng-valid">
                    <div class="form-group">
                        <label for="recipient-name" class="control-label">Chọn nhân viên kinh doanh:</label>
                        <select name="editable-datatable_length" aria-controls="editable-datatable" class="form-control input-sm" ng-model="$ctrl.modelMoveSale"
                            ng-options="s.Hovaten for s in $ctrl.listTaiKhoans"></select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button ng-click="$ctrl.moveSale()" type="button" class="btn btn-info">
                    <i class="fa fa-save"></i> Ghi lại</button>
                <button type="button" class="btn btn-default" data-dismiss="modal"> Hủy</button>
            </div>
        </div>
    </div>
</div>